<?xml version="1.0" encoding="UTF-8"?>
<!--
    Fix8 FIX 4.4 Schema for AssetManager
    Defines the core messages needed for order routing and execution reporting.
    Run through the f8c compiler to generate C++ types:
        f8c -Nn ASSETMGR -p AM schema.xml
-->
<fix major="4" minor="4" servicepack="0">

    <!-- ============================== -->
    <!-- Header / Trailer               -->
    <!-- ============================== -->
    <header>
        <field name="BeginString"   number="8"  type="STRING"  required="Y"/>
        <field name="BodyLength"    number="9"  type="LENGTH"  required="Y"/>
        <field name="MsgType"       number="35" type="STRING"  required="Y"/>
        <field name="SenderCompID"  number="49" type="STRING"  required="Y"/>
        <field name="TargetCompID"  number="56" type="STRING"  required="Y"/>
        <field name="MsgSeqNum"     number="34" type="SEQNUM"  required="Y"/>
        <field name="SendingTime"   number="52" type="UTCTIMESTAMP" required="Y"/>
    </header>

    <trailer>
        <field name="CheckSum" number="10" type="STRING" required="Y"/>
    </trailer>

    <!-- ============================== -->
    <!-- Fields                         -->
    <!-- ============================== -->
    <fields>
        <field number="8"   name="BeginString"     type="STRING"/>
        <field number="9"   name="BodyLength"       type="LENGTH"/>
        <field number="10"  name="CheckSum"         type="STRING"/>
        <field number="11"  name="ClOrdID"          type="STRING"/>
        <field number="14"  name="CumQty"           type="QTY"/>
        <field number="17"  name="ExecID"           type="STRING"/>
        <field number="20"  name="ExecTransType"    type="CHAR"/>
        <field number="21"  name="HandlInst"        type="CHAR">
            <value enum="1" description="AUTOMATED_EXECUTION_ORDER_PRIVATE"/>
            <value enum="2" description="AUTOMATED_EXECUTION_ORDER_PUBLIC"/>
            <value enum="3" description="MANUAL_ORDER"/>
        </field>
        <field number="34"  name="MsgSeqNum"        type="SEQNUM"/>
        <field number="35"  name="MsgType"          type="STRING">
            <value enum="0" description="HEARTBEAT"/>
            <value enum="A" description="LOGON"/>
            <value enum="5" description="LOGOUT"/>
            <value enum="D" description="NEWORDERSINGLE"/>
            <value enum="8" description="EXECUTIONREPORT"/>
        </field>
        <field number="37"  name="OrderID"          type="STRING"/>
        <field number="38"  name="OrderQty"         type="QTY"/>
        <field number="39"  name="OrdStatus"        type="CHAR">
            <value enum="0" description="NEW"/>
            <value enum="1" description="PARTIALLY_FILLED"/>
            <value enum="2" description="FILLED"/>
            <value enum="4" description="CANCELED"/>
            <value enum="8" description="REJECTED"/>
        </field>
        <field number="40"  name="OrdType"          type="CHAR">
            <value enum="1" description="MARKET"/>
            <value enum="2" description="LIMIT"/>
            <value enum="3" description="STOP"/>
        </field>
        <field number="44"  name="Price"            type="PRICE"/>
        <field number="49"  name="SenderCompID"     type="STRING"/>
        <field number="52"  name="SendingTime"      type="UTCTIMESTAMP"/>
        <field number="54"  name="Side"             type="CHAR">
            <value enum="1" description="BUY"/>
            <value enum="2" description="SELL"/>
        </field>
        <field number="55"  name="Symbol"           type="STRING"/>
        <field number="56"  name="TargetCompID"     type="STRING"/>
        <field number="58"  name="Text"             type="STRING"/>
        <field number="60"  name="TransactTime"     type="UTCTIMESTAMP"/>
        <field number="98"  name="EncryptMethod"    type="INT">
            <value enum="0" description="NONE"/>
        </field>
        <field number="108" name="HeartBtInt"       type="INT"/>
        <field number="112" name="TestReqID"        type="STRING"/>
        <field number="150" name="ExecType"         type="CHAR">
            <value enum="0" description="NEW"/>
            <value enum="1" description="PARTIAL_FILL"/>
            <value enum="2" description="FILL"/>
            <value enum="4" description="CANCELED"/>
            <value enum="8" description="REJECTED"/>
        </field>
        <field number="151" name="LeavesQty"        type="QTY"/>
        <field number="6"   name="AvgPx"            type="PRICE"/>
        <field number="31"  name="LastPx"           type="PRICE"/>
        <field number="32"  name="LastQty"          type="QTY"/>
    </fields>

    <!-- ============================== -->
    <!-- Messages                       -->
    <!-- ============================== -->
    <messages>
        <!-- Heartbeat (MsgType = 0) -->
        <message name="Heartbeat" msgcat="admin" msgtype="0">
            <field name="TestReqID" required="N"/>
        </message>

        <!-- Logon (MsgType = A) -->
        <message name="Logon" msgcat="admin" msgtype="A">
            <field name="EncryptMethod" required="Y"/>
            <field name="HeartBtInt"    required="Y"/>
        </message>

        <!-- Logout (MsgType = 5) -->
        <message name="Logout" msgcat="admin" msgtype="5">
            <field name="Text" required="N"/>
        </message>

        <!-- NewOrderSingle (MsgType = D) -->
        <message name="NewOrderSingle" msgcat="app" msgtype="D">
            <field name="ClOrdID"       required="Y"/>
            <field name="HandlInst"     required="Y"/>
            <field name="Symbol"        required="Y"/>
            <field name="Side"          required="Y"/>
            <field name="TransactTime"  required="Y"/>
            <field name="OrdType"       required="Y"/>
            <field name="OrderQty"      required="Y"/>
            <field name="Price"         required="N"/>
        </message>

        <!-- ExecutionReport (MsgType = 8) -->
        <message name="ExecutionReport" msgcat="app" msgtype="8">
            <field name="OrderID"       required="Y"/>
            <field name="ExecID"        required="Y"/>
            <field name="ExecType"      required="Y"/>
            <field name="OrdStatus"     required="Y"/>
            <field name="Symbol"        required="Y"/>
            <field name="Side"          required="Y"/>
            <field name="LeavesQty"     required="Y"/>
            <field name="CumQty"        required="Y"/>
            <field name="AvgPx"         required="Y"/>
            <field name="LastPx"        required="N"/>
            <field name="LastQty"       required="N"/>
            <field name="Text"          required="N"/>
        </message>
    </messages>

</fix>
